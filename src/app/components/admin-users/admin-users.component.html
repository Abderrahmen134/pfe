<div class="users-container"> 
  <!-- Wrapper en flexbox -->
  <div class="content-wrapper">
    
    <!-- Barre latérale -->
    <aside class="sidebar">
      <h2><img src="assets/images/ASM.png" class="logo-icon"></h2>
      <nav>
        <ul>
          <li>
            <a routerLink="/admin" routerLinkActive="active">
              <img src="assets/images/home.png" class="menu-icon"> 
              Accueil
              <div class="notification-badge" *ngIf="totalNotifications > 0">
                {{ totalNotifications }}
              </div>
            </a>
          </li>
          <li>
            <a routerLink="admin/Dashboard">
              <img src="assets/images/dashboard.png" class="menu-icon"> 
              Tableau de bord
              <div class="notification-badge" *ngIf="notifications.dashboard > 0">
                {{ notifications.dashboard }}
              </div>
            </a>
          </li>
          <li>
            <a routerLink="/admin-products" routerLinkActive="active">
              <img src="assets/images/box.png" class="menu-icon"> 
              Gestion des produits
              <div class="notification-badge" *ngIf="notifications.produits > 0">
                {{ notifications.produits }}
              </div>
            </a>
          </li>
          <li>
            <a routerLink="/admin-users" routerLinkActive="active">
              <img src="assets/images/client.png" class="menu-icon"> 
              Gestion des clients
              <div class="notification-badge" *ngIf="notifications.clients > 0">
                {{ notifications.clients }}
              </div>
            </a>
          </li>
          <li>
            <a routerLink="/admin-gestion" routerLinkActive="active">
              <img src="assets/images/admin.png" class="menu-icon"> 
              Gestion des administrateurs
              <div class="notification-badge" *ngIf="notifications.admins > 0">
                {{ notifications.admins }}
              </div>
            </a>
          </li>
          <li>
            <a routerLink="" routerLinkActive="active">
              <img src="assets/images/logout.png" class="menu-icon"> 
              Déconnexion
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Contenu principal -->
    <main class="main-content">
      <header class="admin-header">
        <h1>Liste des utilisateurs</h1>
      </header>
    
      <p-table [value]="users" dataKey="id">
        <ng-template pTemplate="header">
          <tr>
            <th>Prénom</th>
            <th>Nom</th>
            <th>Email</th>
            <th>Téléphone</th>
            <th>Gouvernorat</th>
            <th>Statut</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>{{ user.prenom }}</td>
            <td>{{ user.nom }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.phone }}</td>
            <td>{{ user.gouvernorat }}</td>
            <td>{{ user.statut }}</td>
<td>
  <button class="btn-activer" (click)="changerStatut(user.id, 'actif')" *ngIf="user.statut === 'non actif'">
    Activer
  </button>
  <button class="btn-desactiver" (click)="changerStatut(user.id, 'non actif')" *ngIf="user.statut === 'actif'">
    Désactiver
  </button>
</td>



          </tr>
        </ng-template>
      </p-table>
    </main>
  </div>
</div>
